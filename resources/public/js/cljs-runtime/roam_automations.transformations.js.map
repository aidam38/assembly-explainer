{"version":3,"sources":["roam_automations/transformations.cljs"],"mappings":";AAGA,iDAAA,jDAAMA,0GAAeC,KAAKC,KAAKC,UAAUC;AAAzC,AAAA,kDAAA,0DAAA,2DAAA,yEAAA,zIACSH,2DACAC,oEACKC,gFACIC;;AAElB,yDAAA,zDAAMC,0HAAuBC,MAAMC,KAAKC,OAAOC,KAAKC,IAAGC,IAAIC;AAA3D,AAAA,kDAAA,8DAAA,0DAAA,hEACUN,2DACDC,6DACE,4CAAA,WAAAM,vDAACC;AAAD,AAAM,oGAAAD,7FAACE,8CAAMf;WAHxB,2DAAA,sDAAA,uDAAA,hLAGyCQ,8DAChCC,uDACFC,uDACCC,sDACDC;;AAEP,AAAKI,2DACH,4CAAA,WAAAC,vDAACH;AAAD,AAAM,oDAAA,7CAACI,gFAAQ,qGAAAD,rGAACF,8CAAMV;GAAtB,mFAAA,mFAAA,mFAAA,kCAAA,4CAAA,OAAA,mFAAA,mFAAA,sDAAA,oBAAA;AAAA,AAAA;GAAA,YAAA,mFAAA,sDAAA,kBAAA;AAAA,AAAA;GAAA,uBAAA,KAAA,mEAAA,6DAOO,WAAKK,IAAGS;AAAR,AAAWT;WAPlB,mFAAA,mFAAA,mCAAA,SAAA,iCAAA,IAAA,6DAAA,6DAaO,WAAKA,IAAGS;AAAR,AAAW,kCAAA,KAAA,hCAACC,uBAAYV;WAb/B,mFAAA,mFAAA,wBAAA,SAAA,iCAAA,IAAA,6DAAA,6DAmBO,WAAKA,IAAGS;AAAR,AAAW,yDAAA,LAAKT;WAnBvB,mFAAA,mFAAA,6BAAA,SAAA,iCAAA,IAAA,6DAAA,6DAyBO,WAAKA,IAAGS;AAAR,AAAW,kCAAA,QAAA,nCAACC,uBAAYV","names":["roam-automations.transformations/create-config","type","text","condition","default-value","roam-automations.transformations/create-transformation","names","help","config","more","in","out","fnc","p1__45687#","cljs.core.map","cljs.core.apply","roam-automations.transformations/default-transformations","p1__45688#","cljs.core.into","_","clojure.string/replace"],"sourcesContent":["(ns roam-automations.transformations\n  (:require [clojure.string :as str]))\n\n(defn create-config [type text condition default-value]\n  {:type type\n   :text text\n   :condition condition\n   :default-value default-value})\n\n(defn create-transformation [names help config more in out fnc]\n  {:names names\n   :help help\n   :config (map #(apply create-config %) config)\n   :more more\n   :in in\n   :out out\n   :fn fnc})\n\n(def default-transformations\n  (map #(into {} (apply create-transformation %))\n       [[[\"Convert Roam blocks to markdown\" \"Transform Roam blocks to markdown\"]\n         \"halp\"\n         [[:input \"Bullet point mark\" #() \"-\"]\n          [:input \"Block delimiter\" #() \"\\n\\n\"]]\n         -1\n         :roam-blocks :markdown\n         (fn [in _] in)]\n\n        [[\"Change inline $$$$ to $$\"]\n         \"halp2?\"\n         [] 0\n         :markdown :markdown\n         (fn [in _] (str/replace in \"$$\" \"$\"))]\n\n        [[\"Append string\"]\n         \"halp3?\"\n         [] 0\n         :markdown :markdown\n         (fn [in _] (str in \"ahoj\"))]\n\n        [[\"Remove indentation\"]\n         \"halp4?\"\n         [] 0\n         :markdown :markdown\n         (fn [in _] (str/replace in #\"(?m)^\\s+\" \"\"))]]))"]}